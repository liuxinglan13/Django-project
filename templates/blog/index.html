{% extends 'base.html' %}
{% load staticfiles %}
{% block main %}
<ul class="list-group">
    {% for post in post_list %}
        <li class="list-group-item">
              <header class="index-entry-header">
                  <!-- h1 标签 代表 标题-->
                  <span class="post-author"><a href="#">{{post.author}}</a></span>
                  <img width="48" height="48" alt="Tilo Mitra&#x27;s avatar" class="post-avatar" src="{% static 'blog/img/moe.png' %}">
                  <h1 class="entry-title">
                      <a href="{{ post.get_absolute_url }}">{{ post.title}}</a>
                  </h1>


                  <div class="entry-content clearfix">
                        <!-- 帖子的摘要 -->
                        <p>{{ post.excerpt }}</p>

                        <!--    继续阅读按钮
                        <div class="read-more cl-effect-14">
                            <a href="{{ post.get_absolute_url }}" class="more-link">继续阅读 <span class="meta-nav">→</span></a>
                        </div>
                        -->
                    </div>
                  <div class="entry-meta">
                      <!-- 分类名 -->
                      <span><a href="#">{{ post.category.name}}</a></span>
                      <!--<a class="post-category post-category-design" href="#">{{ post.category.name}}</a>-->
                      <!-- 文章发布时间 -->
                      <span class="post-date"><a href="#">{{post.created_time|timesince}}前</a></span>
                      <!-- 作者 -->
                      <span class="post-author"><a href="#">{{post.author}}</a></span>
                      <!-- 评论数量 post.comment_set.count 查询出该篇文章下的所有评论列表 .count 统计总数-->
                      <span class="comments-link"><a href="#">评论数:{{ post.comment_set.count }}</a></span>
                      <!-- 阅读量-->
                      <span class="views-count"><a href="#">阅读量:{{ post.views }}</a></span>
                  </div>
                    </header>

        </li>
    {% empty %}
        <div class="no-post">暂时还没有发布的文章！</div>
    {% endfor %}
 </ul>

<!-- 分页效果代码-->

{% if is_paginated %}
<nav aria-label="Page navigation">
    <ul class="pagination">
  {% if first %}
        <li><a href="?page=1">1</a></li>
  {% endif %}
  {% if left %}
    {% if left_has_more %}
        <li><span>...</span></li>
    {% endif %}
    {% for i in left %}
        <li><a href="?page={{ i }}">{{ i }}</a></li>
    {% endfor %}
  {% endif %}
        <li><a href="?page={{ page_obj.number }}" style="color: red">{{ page_obj.number }}</a></li>
  {% if right %}
    {% for i in right %}
        <li><a href="?page={{ i }}">{{ i }}</a></li>
    {% endfor %}
    {% if right_has_more %}
        <li><span>...</span></li>
    {% endif %}
  {% endif %}
  {% if last %}
        <li><a href="?page={{ paginator.num_pages }}">{{ paginator.num_pages }}</a></li>
  {% endif %}
</ul>
</nav>

{% endif %}
{% endblock main %}







